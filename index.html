<!DOCTYPE html>
<html lang="my">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DMO Tools - Color Customizer Pro</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    
    <style>
        :root { --bg-color: #f0f2f5; --card-bg: #ffffff; --text-color: #1c1e21; --accent: #007bff; }
        .dark-theme { --bg-color: #18191a; --card-bg: #242526; --text-color: #e4e6eb; }

        * { margin: 0; padding: 0; box-sizing: border-box; font-family: sans-serif; transition: 0.2s; }
        body { background-color: var(--bg-color); color: var(--text-color); display: flex; flex-direction: column; align-items: center; padding: 15px; }

        .header { width: 100%; max-width: 400px; display: flex; justify-content: space-between; align-items: center; padding: 10px 5px 20px; }
        .logo { color: var(--accent); font-size: 26px; font-weight: 800; text-decoration: none; }
        .fb-link { color: #1877f2; font-size: 24px; text-decoration: none; }

        .card { background: var(--card-bg); width: 100%; max-width: 380px; border-radius: 28px; padding: 20px; text-align: center; box-shadow: 0 12px 28px rgba(0,0,0,0.12); }

        /* Color Controls */
        .settings-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 15px; text-align: left; }
        .control-group { margin-bottom: 10px; }
        .control-group label { display: block; font-size: 11px; font-weight: bold; margin-bottom: 4px; color: #888; }
        .select-input, .color-input { width: 100%; padding: 8px; border-radius: 8px; border: 1px solid #ddd; background: var(--card-bg); color: var(--text-color); font-size: 12px; }
        .color-input { height: 35px; padding: 2px; cursor: pointer; }

        /* Output Area (Background 1840:3600) */
        #capture-area {
            width: 300px; height: 587px; background: #ffffff;
            margin: 0 auto 20px; display: flex; justify-content: center; align-items: center;
            position: relative; overflow: hidden;
        }

        /* Phone Frame (Phone 1550:3331) */
        .phone-frame {
            width: 252px; height: 543px; background: #000;
            border: 8px solid #222; position: relative;
            overflow: hidden; display: flex; align-items: center; justify-content: center;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }

        .radius-iphone { border-radius: 44px; }
        .radius-samsung { border-radius: 24px; }
        .radius-vivo { border-radius: 18px; }

        #preview-img { width: 100%; height: 100%; object-fit: cover; display: none; }

        .btn { width: 100%; padding: 15px; border-radius: 50px; border: none; font-size: 16px; font-weight: bold; cursor: pointer; margin-bottom: 10px; display: flex; align-items: center; justify-content: center; gap: 10px; }
        .btn-select { background-color: #e7f3ff; color: #1877f2; }
        .btn-download { background-color: #1877f2; color: white; }
    </style>
</head>
<body>

    <header class="header">
        <a href="#" class="logo">DMO Tools</a>
        <div style="display: flex; gap: 15px; align-items: center;">
            <a href="https://facebook.com" target="_blank" class="fb-link"><i class="fab fa-facebook"></i></a>
            <i class="fas fa-sun" id="mode-btn" style="cursor:pointer; font-size: 22px;"></i>
        </div>
    </header>

    <div class="card">
        <div class="settings-grid">
            <div class="control-group">
                <label>·Äñ·ÄØ·Äî·Ä∫·Ä∏·Äô·Ä±·Ä¨·Ä∫·Äí·Äö·Ä∫</label>
                <select class="select-input" id="device-select">
                    <option value="radius-iphone">iPhone 14 Pro</option>
                    <option value="radius-samsung">Samsung S25</option>
                    <option value="radius-vivo">Vivo Y72 5G</option>
                </select>
            </div>
            <div class="control-group">
                <label>·Äñ·ÄØ·Äî·Ä∫·Ä∏·Äò·Ä±·Ä¨·ÄÑ·Ä∫·Ä°·Äõ·Ä±·Ä¨·ÄÑ·Ä∫</label>
                <input type="color" class="color-input" id="frame-color" value="#222222">
            </div>
            <div class="control-group">
                <label>Background ·Ä°·Äõ·Ä±·Ä¨·ÄÑ·Ä∫</label>
                <input type="color" class="color-input" id="bg-color-picker" value="#ffffff">
            </div>
        </div>

        <div id="capture-area">
            <div class="phone-frame radius-iphone" id="phone-ui">
                <img id="preview-img" src="">
                <i class="fas fa-image" id="hint" style="color:#333; font-size:30px;"></i>
            </div>
        </div>

        <input type="file" id="file-in" accept="image/*" style="display:none;">
        <button class="btn btn-select" onclick="document.getElementById('file-in').click()">üì∏ Screenshot ·Äê·ÄÑ·Ä∫·Äô·Ää·Ä∫</button>
        <button class="btn btn-download" id="save-btn" onclick="exportHighRes()">Get Started <i class="fas fa-arrow-right"></i></button>
    </div>

    <script>
        // ·ÅÅ·Åã ·Ä°·Äõ·Ä±·Ä¨·ÄÑ·Ä∫ ·Äî·Äæ·ÄÑ·Ä∑·Ä∫ ·Äô·Ä±·Ä¨·Ä∫·Äí·Äö·Ä∫ ·Äï·Äº·Ä±·Ä¨·ÄÑ·Ä∫·Ä∏·Äú·Ä≤·ÄÅ·Äº·ÄÑ·Ä∫·Ä∏ Logic
        const frameColor = document.getElementById('frame-color');
        const bgColorPicker = document.getElementById('bg-color-picker');
        const phoneUI = document.getElementById('phone-ui');
        const captureArea = document.getElementById('capture-area');
        const deviceSelect = document.getElementById('device-select');

        frameColor.oninput = () => phoneUI.style.borderColor = frameColor.value;
        bgColorPicker.oninput = () => captureArea.style.backgroundColor = bgColorPicker.value;
        deviceSelect.onchange = () => phoneUI.className = 'phone-frame ' + deviceSelect.value;

        // ·ÅÇ·Åã Dark Mode
        document.getElementById('mode-btn').onclick = function() {
            document.body.classList.toggle('dark-theme');
            this.classList.toggle('fa-moon');
        };

        // ·ÅÉ·Åã Image Preview
        document.getElementById('file-in').onchange = function(e) {
            const file = e.target.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = (ev) => {
                    const img = document.getElementById('preview-img');
                    img.src = ev.target.result;
                    img.style.display = 'block';
                    document.getElementById('hint').style.display = 'none';
                };
                reader.readAsDataURL(file);
            }
        };

        // ·ÅÑ·Åã Export High Res (1840x3600)
        async function exportHighRes() {
            if (!document.getElementById('preview-img').src) return alert("·Äï·ÄØ·Ä∂·Äõ·ÄΩ·Ä±·Ä∏·Äï·Ä´");
            const btn = document.getElementById('save-btn');
            btn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Processing...';
            
            const canvas = await html2canvas(captureArea, {
                scale: 6.1333,
                useCORS: true,
                backgroundColor: null,
                width: 300,
                height: 587
            });

            const link = document.createElement('a');
            link.download = `Mockup_${Date.now()}.png`;
            link.href = canvas.toDataURL("image/png");
            link.click();
            btn.innerHTML = 'Get Started <i class="fas fa-arrow-right"></i>';
        }
    </script>
</body>
</html>
