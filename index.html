<!DOCTYPE html>
<html lang="my">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DMO Tools - Color Customizer</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    
    <style>
        :root { --bg-color: #f8f9fa; --card-bg: #ffffff; --text-color: #222; }
        .dark-theme { --bg-color: #121212; --card-bg: #1e1e1e; --text-color: #fff; }

        * { margin: 0; padding: 0; box-sizing: border-box; font-family: sans-serif; transition: 0.3s; }
        body { background-color: var(--bg-color); color: var(--text-color); display: flex; flex-direction: column; align-items: center; padding: 15px; }

        .header { width: 100%; max-width: 400px; display: flex; justify-content: space-between; align-items: center; padding: 10px; }
        .logo { color: #007bff; font-size: 24px; font-weight: bold; }

        .card { background: var(--card-bg); width: 100%; max-width: 380px; border-radius: 25px; padding: 20px; box-shadow: 0 10px 25px rgba(0,0,0,0.1); }

        .control-group { text-align: left; margin-bottom: 15px; }
        .control-group label { font-size: 12px; font-weight: bold; margin-bottom: 5px; display: block; }
        .input-style {
            width: 100%; padding: 10px; border-radius: 10px; border: 1px solid #ddd;
            background: var(--card-bg); color: var(--text-color); outline: none;
        }

        /* Background Area (1840x3600 Output) */
        #capture-area {
            width: 300px; height: 587px; background: #e0e0e0;
            display: flex; justify-content: center; align-items: center;
            position: relative; margin: 0 auto 20px;
        }

        /* Phone Frame (1550x3600 Ratio) */
        .phone-mockup {
            width: 252px; height: 587px; background: #000;
            border: 8px solid #222; /* Default Border Color */
            position: relative; overflow: hidden; display: flex; align-items: center; justify-content: center;
        }

        /* Device Specific Radii */
        .iphone-14-pro { border-radius: 45px; }
        .samsung-s25 { border-radius: 28px; }
        .vivo-y72 { border-radius: 22px; }

        #preview-img { width: 100%; height: 100%; object-fit: cover; display: none; }

        .btn { width: 100%; padding: 15px; border-radius: 50px; border: none; font-size: 16px; font-weight: bold; cursor: pointer; margin-top: 10px; display: flex; align-items: center; justify-content: center; gap: 10px; }
        .btn-select { background-color: #e7f0ff; color: #007bff; }
        .btn-download { background-color: #007bff; color: white; }
    </style>
</head>
<body>

    <header class="header">
        <div class="logo">DMO Tools</div>
        <i class="fas fa-sun" id="mode-btn" style="cursor:pointer; font-size: 20px;"></i>
    </header>

    <div class="card">
        <div class="control-group">
            <label>·Äñ·ÄØ·Äî·Ä∫·Ä∏·Äô·Ä±·Ä¨·Ä∫·Äí·Äö·Ä∫:</label>
            <select class="input-style" id="device-type">
                <option value="iphone-14-pro">iPhone 14 Pro</option>
                <option value="samsung-s25">Samsung S25 Ultra</option>
                <option value="vivo-y72">Vivo Y72 5G</option>
            </select>
        </div>

        <div class="control-group">
            <label>·Äñ·ÄØ·Äî·Ä∫·Ä∏·Äò·Ä±·Ä¨·ÄÑ·Ä∫·Ä°·Äõ·Ä±·Ä¨·ÄÑ·Ä∫:</label>
            <select class="input-style" id="device-color">
                <option value="#222222">Space Black (Default)</option>
                <option value="#594f63">Deep Purple (iPhone)</option>
                <option value="#f2f2f2">Silver White</option>
                <option value="#004d40">Emerald Green (Vivo)</option>
                <option value="#1a237e">Midnight Blue</option>
                <option value="#ffd700">Luxury Gold</option>
            </select>
        </div>

        <div id="capture-area">
            <div class="phone-mockup iphone-14-pro" id="phone-frame">
                <img id="preview-img" src="">
                <i class="fas fa-camera-retro" id="placeholder" style="color:#333; font-size:30px;"></i>
            </div>
        </div>

        <input type="file" id="file-in" accept="image/*" style="display:none;">
        <button class="btn btn-select" onclick="document.getElementById('file-in').click()">üì∏ ·Äï·ÄØ·Ä∂·Äõ·ÄΩ·Ä±·Ä∏·Äô·Ää·Ä∫</button>
        <button class="btn btn-download" onclick="exportImage()">üíæ ·Äï·ÄØ·Ä∂·Äû·Ä≠·Äô·Ä∫·Ä∏·Äô·Ää·Ä∫ (1840x3600)</button>
    </div>

    <script>
        // Dark Mode
        document.getElementById('mode-btn').onclick = function() {
            document.body.classList.toggle('dark-theme');
            this.classList.toggle('fa-moon');
        };

        // Change Device Style
        document.getElementById('device-type').onchange = function() {
            document.getElementById('phone-frame').className = 'phone-mockup ' + this.value;
        };

        // Change Frame Color
        document.getElementById('device-color').onchange = function() {
            document.getElementById('phone-frame').style.borderColor = this.value;
        };

        // Image Preview
        document.getElementById('file-in').onchange = function(e) {
            const file = e.target.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = (event) => {
                    const img = document.getElementById('preview-img');
                    img.src = event.target.result;
                    img.style.display = 'block';
                    document.getElementById('placeholder').style.display = 'none';
                };
                reader.readAsDataURL(file);
            }
        };

        // High Res Export
        async function exportImage() {
            if (!document.getElementById('preview-img').src) return alert("·Äï·ÄØ·Ä∂·Ä°·Äõ·ÄÑ·Ä∫·Äê·ÄÑ·Ä∫·Äï·Ä´");
            const btn = document.querySelector('.btn-download');
            btn.innerText = "Processing...";

            const canvas = await html2canvas(document.getElementById('capture-area'), {
                width: 300, height: 587, scale: 6.133, useCORS: true, backgroundColor: null
            });

            const link = document.createElement('a');
            link.download = `DMO_Mockup_${Date.now()}.png`;
            link.href = canvas.toDataURL("image/png");
            link.click();
            btn.innerText = "üíæ ·Äï·ÄØ·Ä∂·Äû·Ä≠·Äô·Ä∫·Ä∏·Äô·Ää·Ä∫ (1840x3600)";
        }
    </script>
</body>
</html>
